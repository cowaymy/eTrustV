<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.coway.trust.biz.payment.otherpayment.service.impl.AdvPaymentMapper">
    
    <insert id="insertTmpPaymentInfo" parameterType="Map">
        INSERT INTO PAY0240T (
            SEQ,
            PAY_TYPE,
            TRNSC_DT,
            AMT,
            BANK_ACC_ID,
            BANK_SLIP_NO,
            <!-- 신규필드 생성시 추가할 자리
             -->
            ITM_REM,
            IS_LOCK,
            IS_3PARTY,
            STUS_ID,
            IS_FUND_TRNSF,
            SKIP_RECON,
            PAY_ITM_CARD_TYPE
        ) VALUES (
            #{seq},
            #{keyInPayType},
            TO_DATE(#{keyInTransDate},'DD/MM/YYYY'),
            #{keyInAmount},
            #{keyInBankAcc},
            #{keyInSlipNo},
            <!-- #{keyInPayName},
            #{keyInRefDetails}, 신규필드생성시 추가하자-->
            #{keyInRemark},
            #{keyInIsLock},
            #{keyInIsThirdParty},
            #{keyInStatusId},
            #{keyInIsFundTransfer},
            #{keyInSkipRecon},
            #{keyInPayItmCardType}
        )
    </insert>
    
    <insert id="insertTmpPaymentOnlineInfo" parameterType="Map">
        INSERT INTO PAY0240T (
            SEQ,
            PAY_TYPE,
            TRNSC_DT,
            AMT,
            BANK_ACC_ID,
            BANK_SLIP_NO,
            BANK_CHRG_AMT,
            EFT_NO,
            ITM_REM,
            IS_LOCK,
            IS_3PARTY,
            STUS_ID,
            IS_FUND_TRNSF,
            SKIP_RECON,
            PAY_ITM_CARD_TYPE
        ) VALUES (
            #{seq},
            #{keyInPayType},
            TO_DATE(#{keyInTransDate},'DD/MM/YYYY'),
            #{keyInAmount},
            #{keyInBankAcc},
            #{keyInSlipNo},
            #{keyInBankChrgAmt},
            #{keyInEftNo},
            #{keyInRemark},
            #{keyInIsLock},
            #{keyInIsThirdParty},
            #{keyInStatusId},
            #{keyInIsFundTransfer},
            #{keyInSkipRecon},
            #{keyInPayItmCardType}
        )
    </insert>  
    
    <insert id="insertTmpBillingInfo" parameterType="Map">
        INSERT INTO PAY0241T (
            ITM_SEQ,
            SEQ,
            PRCSS_SEQ,
            APP_TYPE,
            ADV_MONTH,
            BILL_GRP_ID,
            BILL_ID,
            ORD_ID,
            RPF,
            RPF_PAID,
            BILL_NO,
            ORD_NO,
            BILL_TYPE_ID,
            BILL_TYPE_NM,
            INSTLMT,
            AMT,
            PAID_AMT,
            TRGET_AMT,
            BILL_DT,
            ASIGN_AMT,
            BILL_STUS,
            CUST_NM,
            DSCNT_AMT,
            SRV_LDGR_CNTRCT_ID,
            BILL_AS_ID
            <!-- 
                TR 친구들 필드 자리
             -->
        ) VALUES (
            PAY0241T_SEQ.NEXTVAL,
            #{seq},
            #{procSeq},
            #{appType},
            #{advMonth},
            #{billGrpId},
            #{billId},
            #{ordId},
            #{mstRpf},
            #{mstRpfPaid},
            #{billNo},
            #{ordNo},
            #{billTypeId},
            #{billTypeNm},
            #{installment},
            #{billAmt},
            #{paidAmt},
            #{targetAmt},
            TO_DATE(#{billDt},'YYYY-MM-DD'),
            #{assignAmt},
            #{billStatus},
            #{custNm},
            #{discountAmt},
            #{srvcContractID},
            #{billAsId}
            <!-- #{keyInTrNo}, TR친구들 추가예정
            #{keyInTrIssueDate},
            #{keyInCollector} -->
        )
    </insert>
    
    <!-- <update id="processPayment" statementType="CALLABLE" parameterType="Map">
        {call SP_INST_PAYMENT(#{seq},#{userid} )}
    </update> -->
    
</mapper>