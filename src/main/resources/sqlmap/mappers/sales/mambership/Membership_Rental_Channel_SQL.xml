<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.coway.trust.biz.sales.mambership.impl.MembershipRentalChannelMapper">
 
    
 <select id="getLoadRejectReasonList" parameterType="Map" resultType="egovMap">
            <![CDATA[    
						   
						SELECT  RESN_ID  code_Id ,
						        CODE||'-'||RESN_DESC  code_Name ,
						        CODE
						 FROM  SYS0032M 
						WHERE  RESN_TYPE_ID = #{RESN_TYPE_ID}
						  AND  STUS_CODE_ID ='1'
						UNION 
						SELECT RESN_ID  code_Id ,
						       CODE||'-'||RESN_DESC  code_Name ,
						       CODE
						 FROM SYS0032M 
						WHERE   RESN_ID = #{RESN_ID}
            ]]>
  </select>
      
      
      
   <insert id="SAL0074D_update" parameterType="Map" >
            UPDATE SAL0074D
			   SET MODE_ID           = #{modeID},
			         CUST_CRC_ID     = #{custCRCID},
			         BANK_ID            = #{bankID} ,
			         CUST_ACC_ID     = #{custAccID},
			         DD_APPLY_DT     = to_date( #{ddApplyDate} ,'dd/mm/yyyy') ,
			         DD_SUBMIT_DT   = to_date( #{ddSubmitDate} ,'dd/mm/yyyy') ,
			         DD_START_DT    = to_date( #{ddStartDate} ,'dd/mm/yyyy') ,
			         DD_REJCT_DT     = to_date( #{ddRejectDate} ,'dd/mm/yyyy') ,
			         UPD_USER_ID     = #{updator} ,
			         UPD_DT             = sysdate,   
			         STUS_CODE_ID   = #{statusCodeID},
			         IS_3RD_PARTY    = #{is3rdParty},
			         CUST_ID            = #{customerID},    
			         EDIT_TYPE_ID     = #{editTypeID},
			         NRIC_OLD           = #{nRICOld},     
			         FAIL_RESN_ID      = #{failReasonID},
			         ISSU_NRIC          = #{issuedNRIC},
			         AEON_CNVR         = decode(#{aeonConvert},'true' ,1,0),
			         LAST_APPLY_USER =#{updator},
			         PAY_TRM              = #{payTerm}
		   WHERE  1=1 
		      AND  SVC_CNTRCT_ID = #{serviceContractID}
			  AND  SALES_ORD_ID   = #{salesOrderID}
   </insert>
   
   
   
   <insert id="SAL0077D_update" parameterType="Map" >
        UPDATE SAL0077D
		   SET SRV_CNTRCT_UPD_DT = SYSDATE,
		       SRV_CNTRCT_UPD_USER_ID = #{updator}
		 WHERE  ( SRV_CNTRCT_ID = #{serviceContractID})

   </insert>

</mapper>