<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.coway.trust.biz.sales.promotion.impl.PromotionRegisterMapper">

    <insert id="insertSalesPromoM" parameterType="salesPromoMVO">
      <selectKey keyProperty="promoId" resultType="Integer" order="BEFORE">
        SELECT SAL0017D_PROMO_ID_SEQ.NEXTVAL FROM DUAL
      </selectKey>
        INSERT
          INTO SAL0017D 
             ( PROMO_ID
             , PROMO_MTCH_ID
             , PROMO_CODE
             , PROMO_DESC
             , PROMO_TYPE_ID
             , PROMO_APP_TYPE_ID
             , PROMO_SRV_MEM_PAC_ID
             , PROMO_DT_FROM
             , PROMO_DT_END
             , PROMO_STUS_ID
             , PROMO_UPD_DT
             , PROMO_UPD_USER_ID
             , PROMO_IS_TRIAL_CNVR
             , PROMO_PRC_PRCNT
             , PROMO_CUST_TYPE
             , PROMO_DISC_TYPE
             , PROMO_RPF_DISC_AMT
             , PROMO_DISC_PERIOD_TP
             , PROMO_DISC_PERIOD
             , PROMO_FREESVC_PERIOD_TP
             , PROMO_ADD_DISC_PRC
             , PROMO_ADD_DISC_PV
             , EMP_CHK
             , EX_TRADE)
        VALUES
             ( #{promoId}
             , #{promoMtchId}
             , #{promoCode}
             , #{promoDesc}
             , #{promoTypeId}
             , #{promoAppTypeId}
             , #{promoSrvMemPacId}
             , #{promoDtFrom}
             , #{promoDtEnd}
             , #{promoStusId}
             , SYSDATE
             , #{promoUpdUserId}
             , #{promoIsTrialCnvr}
             , #{promoPrcPrcnt}
             , #{promoCustType}
             , #{promoDiscType}
             , #{promoRpfDiscAmt}
             , #{promoDiscPeriodTp}
             , #{promoDiscPeriod}
             , #{promoFreesvcPeriodTp}
             , #{promoAddDiscPrc}
             , #{promoAddDiscPv}
             , #{empChk}
             , #{exTrade})
    </insert>

	<insert id="insertSalesPromoD" parameterType="salesPromoDVO">
      <selectKey keyProperty="promoItmId" resultType="Integer" order="BEFORE">
        SELECT SAL0018D_PROMO_ITM_ID_SEQ.NEXTVAL FROM DUAL
      </selectKey>
        INSERT
          INTO SAL0018D
             ( PROMO_ITM_ID
             , PROMO_ID
             , PROMO_ITM_STK_ID
             , PROMO_ITM_CUR_ID
             , PROMO_ITM_PRC
             , PROMO_ITM_PV
             , PROMO_ITM_STUS_ID
             , PROMO_ITM_UPD_USER_ID
             , PROMO_ITM_UPD_DT
             , PROMO_ITM_RENTAL) 
        VALUES
             ( #{promoItmId}
             , #{promoId}
             , #{promoItmStkId}
             , #{promoItmCurId}
             , #{promoItmPrc}
             , #{promoItmPv}
             , #{promoItmStusId}
             , #{promoItmUpdUserId}
             , SYSDATE
             , #{promoItmRental})
	</insert>
	
    <insert id="insertSalesPromoFreeGift" parameterType="salesPromoFreeGiftVO">
      <selectKey keyProperty="promoFreeGiftId" resultType="Integer" order="BEFORE">
        SELECT SAL0019D_FREE_GIFT_ID_SEQ.NEXTVAL FROM DUAL
      </selectKey>
        INSERT
		  INTO SAL0019D
		     ( PROMO_FREE_GIFT_ID
		     , PROMO_FREE_GIFT_PROMO_ID
		     , PROMO_FREE_GIFT_STK_ID
		     , PROMO_FREE_GIFT_STUS_ID
		     , PROMO_FREE_GIFT_START_DT
		     , PROMO_FREE_GIFT_EXPR_DT
		     , PROMO_FREE_GIFT_CRT_USER_ID
		     , PROMO_FREE_GIFT_CRT_DT)
		VALUES
		     ( #{promoFreeGiftId}
		     , #{promoFreeGiftPromoId}
		     , #{promoFreeGiftStkId}
		     , #{promoFreeGiftStusId}
		     , #{promoFreeGiftStartDt}
		     , #{promoFreeGiftExprDt}
		     , #{promoFreeGiftCrtUserId}
		     , SYSDATE)
     </insert>
</mapper>